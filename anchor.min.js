/**
 * AnchorJS - v4.1.0 - 2018-03-05
 * https://github.com/bryanbraun/anchorjs
 * Copyright (c) 2018 Bryan Braun; Licensed MIT
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():(e.AnchorJS=t(),e.anchors=new e.AnchorJS)}(this,function(){"use strict";return function(e){function t(e){e.placement=e.hasOwnProperty("placement")?e.placement:"after",e.ariaLabel=e.hasOwnProperty("ariaLabel")?e.ariaLabel:"Anchor",e.class=e.hasOwnProperty("class")?e.class:"",e.truncate=e.hasOwnProperty("truncate")?Math.floor(e.truncate):64}function i(e){var t;if("string"==typeof e||e instanceof String)t=[].slice.call(document.querySelectorAll(e));else{if(!(Array.isArray(e)||e instanceof NodeList))throw new Error("The selector provided to AnchorJS was invalid.");t=[].slice.call(e)}return t}this.options=e||{},this.elements=[],t(this.options),this.add=function(e){var n,r,s,o,a,l,h,c,u,f,d=[];if(t(this.options),e||(e="h1,h2,h3,h4,h5,h6"),0===(n=i(e)).length)return this;for(r=document.querySelectorAll("[id]"),s=[].map.call(r,function(e){return e.id}),a=0;a<n.length;a++)if(this.hasAnchorJSLink(n[a]))d.push(a);else{if(n[a].hasAttribute("id"))o=n[a].getAttribute("id");else if(n[a].hasAttribute("data-anchor-id"))o=n[a].getAttribute("data-anchor-id");else{u=c=this.urlify(n[a].textContent),h=0;do{void 0!==l&&(u=c+"-"+h),l=s.indexOf(u),h+=1}while(-1!==l);l=void 0,s.push(u),n[a].setAttribute("id",u),o=u}o.replace(/-/g," "),(f=document.createElement("a")).className="anchorjs-link "+this.options.class,f.href="#"+o,f.setAttribute("aria-label",this.options.ariaLabel),"before"===this.options.placement?n[a].insertBefore(f,n[a].firstChild):n[a].appendChild(f)}for(a=0;a<d.length;a++)n.splice(d[a]-a,1);return this.elements=this.elements.concat(n),this},this.remove=function(e){for(var t,n,r=i(e),s=0;s<r.length;s++)(n=r[s].querySelector(".anchorjs-link"))&&(-1!==(t=this.elements.indexOf(r[s]))&&this.elements.splice(t,1),r[s].removeChild(n));return this},this.removeAll=function(){this.remove(this.elements)},this.urlify=function(e){return this.options.truncate||t(this.options),e.trim().replace(/\'/gi,"").replace(/[& +$,:;=?@"#{}|^~[`%!'<>\]\.\/\(\)\*\\]/g,"-").replace(/-{2,}/g,"-").substring(0,this.options.truncate).replace(/^-+|-+$/gm,"").toLowerCase()},this.hasAnchorJSLink=function(e){var t=e.firstChild&&(" "+e.firstChild.className+" ").indexOf(" anchorjs-link ")>-1,i=e.lastChild&&(" "+e.lastChild.className+" ").indexOf(" anchorjs-link ")>-1;return t||i||!1}}});